<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prueba - Bot√≥n Usar Beneficio</title>
  <style>
    .btn {
      padding: 16px;
      background: #2c5aa0;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 20px;
      cursor: pointer;
      margin: 20px;
    }
    .btn:disabled {
      background: #ccc;
    }
    .exito {
      text-align: center;
      padding: 40px;
      font-size: 24px;
    }
    .contador {
      font-size: 60px;
      color: #d32f2f;
      margin: 20px 0;
    }
  </style>
</head>
<body>

  <button class="btn" id="btnValidar" onclick="activarBoton()">1. Activar bot√≥n (simula QR)</button>
  <button class="btn" id="btnUsar" disabled onclick="usarBeneficio()">2. Usar el beneficio</button>

  <div id="resultado"></div>

  <script>
    let botonUsar = document.getElementById('btnUsar');
    let botonValidar = document.getElementById('btnValidar');
    let resultado = document.getElementById('resultado');

    function activarBoton() {
      botonUsar.disabled = false;
      botonValidar.disabled = true;
      resultado.innerHTML += "<p>‚úÖ Bot√≥n 'Usar beneficio' activado.</p>";
    }

    function usarBeneficio() {
      if (confirm("‚ö†Ô∏è ¬øAvisaste al cajero que usar√°s el cup√≥n?")) {
        resultado.innerHTML = `
          <div class="exito">
            <h2>üéâ ¬°FELICITACIONES!</h2>
            <p>Beneficio activado en Cafex.</p>
            <p>10% en medialunas los viernes</p>
            <div class="contador" id="contador">30</div>
            <p>V√°lido por 30 segundos.</p>
          </div>
        `;
        let contador = 30;
        const elem = document.getElementById('contador');
        const interval = setInterval(() => {
          contador--;
          elem.textContent = contador;
          if (contador <= 0) {
            clearInterval(interval);
            resultado.innerHTML += "<p>‚è∞ Tiempo terminado. Volviendo...</p>";
            setTimeout(() => location.reload(), 2000);
          }
        }, 1000);
      }
    }
  </script>
</body>
</html>
